(function(){"use strict";var e={6698:function(e,t,a){var r=a(5130),o=a(6768);const s={class:"dark:bg-gray-900 py-2"},n={class:"p-5 w-11/12 antialiased mx-auto"};function l(e,t,a,r,l,i){const c=(0,o.g2)("ToggleLightDarkMode"),d=(0,o.g2)("SecondaryComp");return(0,o.uX)(),(0,o.CE)("div",s,[(0,o.Lk)("div",n,[(0,o.bF)(c),(0,o.bF)(d)])])}a(4603),a(7566),a(8721);var i=a(4232),c=a(144);a(4114);let d,u=null==localStorage.getItem("apiVersion")?"60.0":localStorage.getItem("apiVersion"),m={async getSession(e){e=f(e);const t="access_token",a=window.location.href.includes(t),r=localStorage.getItem(e+"_"+t);if(this.instanceHostname=e,a){if(window.location.href.includes(t)){const a=new URL(window.location.href),r=new URLSearchParams(a.hash.substring(1)),o=decodeURI(r.get(t));e=decodeURI(r.get("instance_url")).replace(/^https?:\/\//i,""),this.sessionId=o,localStorage.setItem(e+"_"+t,o)}}else if(r)this.sessionId=r;else{let t=await new Promise((t=>chrome.runtime.sendMessage({message:"getSession",sfHost:e},t)));t&&(this.instanceHostname=f(t.hostname),this.sessionId=t.key)}const o="isSandbox";null==localStorage.getItem(e+"_"+o)&&m.rest("/services/data/v"+u+"/query/?q=SELECT+IsSandbox,+InstanceName+FROM+Organization").then((t=>{localStorage.setItem(e+"_"+o,t.records[0].IsSandbox),localStorage.setItem(e+"_orgInstance",t.records[0].InstanceName)}))},async rest(e,{logErrors:t=!0,method:a="GET",api:r="normal",body:o,bodyType:s="json",responseType:n="json",headers:l={},progressHandler:i=null}={}){if(!this.instanceHostname)throw new Error("Instance Hostname not found");let c=new XMLHttpRequest;e+=(e.includes("?")?"&":"?")+"cache="+Math.random();const u="https://"+this.instanceHostname;if(c.open(a,u+e,!0),c.setRequestHeader("Accept","application/json; charset=UTF-8"),"bulk"==r)c.setRequestHeader("X-SFDC-Session",this.sessionId);else{if("normal"!=r)throw new Error("Unknown api");c.setRequestHeader("Authorization","Bearer "+this.sessionId)}if(void 0!==o)if("json"==s)o=JSON.stringify(o),c.setRequestHeader("Content-Type","application/json; charset=UTF-8");else if("raw"!=s)throw new Error("Unknown bodyType");for(let[d,p]of Object.entries(l))c.setRequestHeader(d,p);if(c.responseType=n,await new Promise(((e,t)=>{i&&(i.abort=()=>{let e=new Error("The request was aborted.");e.name="AbortError",t(e),c.abort()}),c.onreadystatechange=()=>{4==c.readyState&&e()},c.send(o)})),c.status>=200&&c.status<300)return c.response;if(0==c.status){t||console.error("Received no response from Salesforce REST API",c);let e=new Error;throw e.name="SalesforceRestError",e.message="Network error, offline or timeout",e}if(401==c.status){let e=c.response.length>0?c.response[0].message:"New access token needed";localStorage.getItem(this.instanceHostname+"_access_token")&&(d=e,v());let t=new Error;throw t.name="Unauthorized",t.message=e,t}{t||console.error("Received error response from Salesforce REST API",c);let e=new Error;e.name="SalesforceRestError",e.detail=c.response;try{e.message=e.detail.map((e=>`${e.errorCode}: ${e.message}${e.fields&&e.fields.length>0?` [${e.fields.join(", ")}]`:""}`)).join("\n")}catch(m){e.message=JSON.stringify(c.response)}throw e.message||(e.message="HTTP error "+c.status+" "+c.statusText),e}},wsdl(e,t){let a={Enterprise:{servicePortAddress:"/services/Soap/c/"+e,targetNamespaces:' xmlns="urn:enterprise.soap.sforce.com" xmlns:sf="urn:sobject.enterprise.soap.sforce.com"',apiName:"Enterprise"},Partner:{servicePortAddress:"/services/Soap/u/"+e,targetNamespaces:' xmlns="urn:partner.soap.sforce.com" xmlns:sf="urn:sobject.partner.soap.sforce.com"',apiName:"Partner"},Apex:{servicePortAddress:"/services/Soap/s/"+e,targetNamespaces:' xmlns="http://soap.sforce.com/2006/08/apex"',apiName:"Apex"},Metadata:{servicePortAddress:"/services/Soap/m/"+e,targetNamespaces:' xmlns="http://soap.sforce.com/2006/04/metadata"',apiName:"Metadata"},Tooling:{servicePortAddress:"/services/Soap/T/"+e,targetNamespaces:' xmlns="urn:tooling.soap.sforce.com" xmlns:sf="urn:sobject.tooling.soap.sforce.com" xmlns:mns="urn:metadata.tooling.soap.sforce.com"',apiName:"Tooling"}};return t&&(a=a[t]),a},async soap(e,t,a,{headers:r}={}){if(!this.instanceHostname||!this.sessionId)throw new Error("Session not found");let o=new XMLHttpRequest;o.open("POST","https://"+this.instanceHostname+e.servicePortAddress+"?cache="+Math.random(),!0),o.setRequestHeader("Content-Type","text/xml"),o.setRequestHeader("SOAPAction",'""');let s="Metadata"==e.apiName?"met:SessionHeader":"SessionHeader",n="Metadata"==e.apiName?"met:sessionId":"sessionId",l="Metadata"==e.apiName?`met:${t}`:t,i=['xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"','xmlns:xsd="http://www.w3.org/2001/XMLSchema"','xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"'];"Metadata"==e.apiName&&i.push('xmlns:met="http://soap.sforce.com/2006/04/metadata"');let c=p.stringify({name:"soapenv:Envelope",attributes:` ${i.join(" ")}${e.targetNamespaces}`,value:{"soapenv:Header":Object.assign({},{[s]:{[n]:this.sessionId}},r),"soapenv:Body":{[l]:a}}});if(o.responseType="document",await new Promise((e=>{o.onreadystatechange=()=>{4==o.readyState&&e(o)},o.send(c)})),200==o.status){let e=o.response.querySelector(t+"Response"),a=p.parse(e).result;return a}{console.error("Received error response from Salesforce SOAP API",o);let e=new Error;e.name="SalesforceSoapError",e.detail=o.response;try{e.message=o.response.querySelector("faultstring").textContent}catch(d){e.message="HTTP error "+o.status+" "+o.statusText}throw e}},asArray(e){return e?e instanceof Array?e:[e]:[]}};class p{static stringify({name:e,attributes:t,value:a}){function r(e,t){if(null==t)e.setAttribute("xsi:nil","true");else if("object"==typeof t)for(let[a,s]of Object.entries(t))if("_"==a)null==s?e.setAttribute("xsi:nil","true"):e.textContent=s;else if("$xsi:type"==a)e.setAttribute("xsi:type",s);else if(void 0===s);else if(Array.isArray(s))for(let t of s){let s=o.createElement(a);r(s,t),e.appendChild(s)}else{let t=o.createElement(a);r(t,s),e.appendChild(t)}else e.textContent=t}let o=(new DOMParser).parseFromString("<"+e+t+"/>","text/xml");return r(o.documentElement,a),'<?xml version="1.0" encoding="UTF-8"?>'+(new XMLSerializer).serializeToString(o).replace(/ xmlns=""/g,"")}static parse(e){function t(e){let a="",r=null;if("true"==e.getAttribute("xsi:nil"))return null;let o=e.getAttribute("xsi:type");o&&(r={"$xsi:type":o});for(let s=e.firstChild;null!=s;s=s.nextSibling)if(s instanceof CharacterData)a+=s.data;else{if(!(s instanceof Element))throw new Error("Unknown child node type");{null==r&&(r={});let e=s.localName,a=t(s);e in r?r[e]instanceof Array?r[e].push(a):r[e]=[r[e],a]:r[e]=a}}return r||a}return t(e)}}function f(e){if(e){const t=e.replace(/\.lightning\.force\./,".my.salesforce.").replace(/\.mcas\.ms$/,"");return t}return e}function v(){const e=document.getElementById("invalidTokenBanner");e&&e.classList.remove("hide");const t=document.getElementById("mainTabs");t&&t.classList.add("mask")}const g=e=>{const t=new Date(e),a={day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0};return t.toLocaleString("en-IN",a)};const h=async(e,t)=>{const a=await new Promise(((e,a)=>{chrome.storage.local.get({[t]:[]},(a=>{const r=a[t];e(r)}))})),r=a.some((t=>t.items.some((t=>t.id===e.id))));if(r)return console.log("Item already exists:",e),!1;{let r=a.find((t=>t.type===e.type));return r?r.items.push({id:e.id,name:e.name}):(r={type:e.type,items:[{id:e.id,name:e.name}]},a.push(r)),chrome.storage.local.set({[t]:a},(()=>{console.log("Record list updated for domain:",t)})),!0}};const y=async e=>new Promise(((t,a)=>{chrome.storage.local.get({[e]:[]},(a=>{const r=a[e];t(r)}))})),b=async(e,t)=>{const a=await new Promise(((e,a)=>{chrome.storage.local.get({[t]:[]},(a=>{const r=a[t];e(r)}))})),r=a.findIndex((t=>t.items.some((t=>t.id===e))));return-1!==r?(a[r].items=a[r].items.filter((t=>t.id!==e)),chrome.storage.local.set({[t]:a},(()=>{console.log("Record with ID",e,"deleted for domain:",t)})),!0):(console.log("Item with ID",e,"not found for domain:",t),!1)},_=e=>{const t=/https:\/\/([^.]+)\.(lightning\.force\.com|my\.salesforce\.com|vf\.force\.com|my\.site\.com)$/,a=e.match(t);if(a)return a[1];const r=/https:\/\/([^.]+)\.sandbox\.(lightning\.force\.com|my\.salesforce\.com|vf\.force\.com|my\.site\.com)$/,o=e.match(r);if(o)return o[1];const s=/https:\/\/([^.]+)\.develop\.(lightning\.force\.com|my\.salesforce\.com|vf\.force\.com|my\.site\.com)$/,n=e.match(s);if(n)return n[1];const l=/https:\/\/([^-]+)-([^.]+)\.trailblaze\.(lightning\.force\.com|my\.salesforce\.com|vf\.force\.com|my\.site\.com)$/,i=e.match(l);return i?i[2]:null},x=(e,t,a)=>{switch(a){case"DataRaptor":return`https://${e}--vlocity-cmt.vf.force.com/apex/vlocity_cmt__drmapper?id=${t}`;case"IntegrationProcedure":return`https://${e}--vlocity-cmt.vf.force.com/apex/vlocity_cmt__integrationproceduredesigner?id=${t}`;default:return null}},w=(e,t,a,r)=>{const o=`https://${t}/lightning`;switch(r){case"OmniScript":return`${o}/cmp/vlocity_cmt__OmniDesignerAuraWrapper?c__recordId=${a}`;case"FlexCard":return`${o}/r/vlocity_cmt__VlocityCard__c/${a}/view`;case"IntegrationProcedure":case"DataRaptor":return x(e,a,r);default:return null}},k=["type"];var S={__name:"PrimaryButton",props:{type:{type:String,default:"submit"},isRed:Boolean},setup(e){return(t,a)=>((0,o.uX)(),(0,o.CE)("button",{type:e.type,class:(0,i.C4)({"bg-gray-800 dark:text-gray-800 dark:hover:bg-white":!e.isRed,"bg-red-600 hover:bg-red-700 dark:bg-red-600 dark:hover:bg-red-700 dark:text-gray-100 focus:bg-red-700 focus:ring-red-500":e.isRed,"inline-flex items-center px-4 py-2 dark:bg-gray-200 border border-transparent rounded-2xl font-semibold text-xs text-white  uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 dark:active:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150":!0})},[(0,o.RG)(t.$slots,"default")],10,k))}};const R=S;var E=R;const L=["value"];var C={__name:"TextInput",props:{modelValue:String},emits:["update:modelValue"],setup(e,{expose:t}){const a=(0,c.KR)(null);return(0,o.sV)((()=>{a.value.hasAttribute("autofocus")&&a.value.focus()})),t({focus:()=>a.value.focus()}),(t,r)=>((0,o.uX)(),(0,o.CE)("input",{ref_key:"input",ref:a,class:"text-base border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm py-1 px-2 border outline-indigo-500 dark:outline-none",value:e.modelValue,onInput:r[0]||(r[0]=e=>t.$emit("update:modelValue",e.target.value))},null,40,L))}};const I=C;var O=I;const T=(0,o.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),A=(0,o.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),F=[T,A];var M={__name:"LoadingCircle",props:{cssStyle:{type:String}},setup(e){return(t,a)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[((0,o.uX)(),(0,o.CE)("svg",{class:(0,i.C4)(["animate-spin",e.cssStyle]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},F,2)),(0,o.RG)(t.$slots,"default")],64))}};const D=M;var N=D;const H={class:"block font-normal text-sm text-gray-600 dark:text-gray-300"};var P={__name:"TextDesc",props:{},setup(e){return(e,t)=>((0,o.uX)(),(0,o.CE)("p",H,[(0,o.RG)(e.$slots,"default")]))}};const j=P;var V=j;const $={class:"block font-semibold text-xl text-gray-600 dark:text-gray-300"};var q={__name:"PrimaryHeading",props:{},setup(e){return(e,t)=>((0,o.uX)(),(0,o.CE)("p",$,[(0,o.RG)(e.$slots,"default")]))}};const K=q;var X=K;const B=["type"];var U={__name:"SVGIconButton",props:{type:{type:String,default:"button"},icon:{type:String,default:""},color:{type:String,default:""},isSquare:{type:Boolean,default:!1}},setup(e){return(t,a)=>((0,o.uX)(),(0,o.CE)("button",{type:e.type,class:(0,i.C4)(["inline-flex items-center p-1.5 border shadow-md rounded-full font-semibold text-xs focus:outline-none disabled:opacity-25 transition ease-in-out duration-300",{"bg-rose-100 hover:bg-rose-200 border-rose-300/50 dark:bg-rose-700 dark:hover:bg-rose-600 dark:border-rose-900 ":"red"==e.color,"bg-green-100 hover:bg-green-200 border-green-300 dark:bg-green-700 dark:hover:bg-green-600 dark:border-green-900 ":"green"==e.color,"bg-blue-100 hover:bg-blue-200 border-blue-300 dark:bg-blue-700 dark:hover:bg-blue-600 dark:border-blue-900 ":"blue"==e.color,"bg-gray-100 hover:bg-gray-200 border-gray-300 dark:bg-zinc-600 dark:hover:bg-zinc-500 dark:border-gray-800 ":"gray"==e.color,"!rounded-md":e.isSquare}])},[((0,o.uX)(),(0,o.Wv)((0,o.$y)(e.icon),{class:(0,i.C4)(["w-6 h-6 stroke-2 transition duration-75",{"fill-red-700 hover:fill-red-800 dark:fill-red-100":"red"==e.color,"fill-green-700 hover:fill-green-800 dark:fill-green-100":"green"==e.color,"fill-blue-700 hover:fill-blue-800 dark:fill-blue-100":"blue"==e.color,"fill-gray-600 hover:fill-gray-700 dark:fill-gray-100":"gray"==e.color}])},null,8,["class"])),(0,o.RG)(t.$slots,"default")],10,B))}};const W=U;var z=W;const G={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Q=(0,o.Lk)("path",{d:"m12 21l-1.45-1.3q-2.525-2.275-4.175-3.925T3.75 12.812T2.388 10.4T2 8.15Q2 5.8 3.575 4.225T7.5 2.65q1.3 0 2.475.55T12 4.75q.85-1 2.025-1.55t2.475-.55q2.35 0 3.925 1.575T22 8.15q0 1.15-.387 2.25t-1.363 2.412t-2.625 2.963T13.45 19.7z"},null,-1),J=[Q];function Y(e,t){return(0,o.uX)(),(0,o.CE)("svg",G,J)}var Z=a(1241);const ee={},te=(0,Z.A)(ee,[["render",Y]]);var ae=te;const re={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},oe=(0,o.Lk)("path",{d:"M7 21q-.825 0-1.412-.587T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.587 1.413T17 21zm2-4h2V8H9zm4 0h2V8h-2z"},null,-1),se=[oe];function ne(e,t){return(0,o.uX)(),(0,o.CE)("svg",re,se)}const le={},ie=(0,Z.A)(le,[["render",ne]]);var ce=ie,de=a(772);const ue={key:0},me={key:1},pe={key:0,class:"mt-4 mb-2"},fe={class:"text-blue-600"},ve={key:1},ge={class:"text-left ml-2"},he={class:"flex justify-center text-center items-center my-1.5"},ye=["href"],be={name:"favoriteTableComp"};var _e=Object.assign(be,{props:{sfHost:String,currenObject:String},emits:["fireEvent"],setup(e,{expose:t,emit:a}){const r=a,s=e,n=(0,c.KR)([]),l=(0,c.KR)([]),d=(0,c.KR)(["name"]),u=(0,c.KR)(""),m=(0,c.KR)("LastModifiedDate"),p="desc",f=(0,c.KR)([{text:"Id",value:"id"},{text:"Name",value:"name",sortable:!0},{text:"Actions",value:"Actions",width:300}]),v=((0,c.KR)(""),(0,c.KR)(!1)),g=((0,c.KR)(s?.sfHost??""),(0,c.KR)("")),h=(0,c.KR)(""),x=()=>{g.value=s?.currenObject},k=async(e=!1)=>{e&&await new Promise((e=>setTimeout(e,1e3))),n.value=await y(s?.sfHost),x(),l.value=[];for(const t of n.value)t.type===s?.currenObject&&l.value.push(...t.items);return console.log("inside filterItemsByType and obj --\x3e "+s?.currenObject),console.log("itemList --\x3e "+JSON.stringify(l.value)),l},S=async e=>{let t=await b(e,s?.sfHost);t&&(l.value=l.value.filter((t=>t.id!==e)),r("fireEvent",{action:"deleteItem",recId:e}),console.log("Item with ID",e,"removed from itemList"))},R=async()=>{await k(!0),console.log("inside getLatestFavItemList")};return(0,o.wB)((()=>s.currenObject),(async e=>{e&&(console.log("inside watch"),await k(!1))}),{immediate:!0}),(0,o.sV)((async()=>{n.value=await y(s?.sfHost),g.value=s?.currenObject,x(),h.value=_(`https://${s?.sfHost}`)})),t({getLatestFavItemList:R}),(e,t)=>{const a=(0,o.g2)("LoadingCircle");return v.value?((0,o.uX)(),(0,o.CE)("div",ue,[(0,o.bF)(E,null,{default:(0,o.k6)((()=>[(0,o.bF)(a,{cssStyle:"h-4 w-4 mr-2"},{default:(0,o.k6)((()=>[(0,o.eW)("Data is loading...")])),_:1})])),_:1})])):((0,o.uX)(),(0,o.CE)("div",me,[l.value.length>0?((0,o.uX)(),(0,o.CE)("div",pe,[(0,o.bF)(X,null,{default:(0,o.k6)((()=>[(0,o.eW)("Favorite Records for "),(0,o.Lk)("span",fe,(0,i.v_)(s?.currenObject),1)])),_:1}),(0,o.bF)(V,null,{default:(0,o.k6)((()=>[(0,o.eW)("Please note, there might be newer versions so please refer latest data from above table. ")])),_:1})])):(0,o.Q3)("",!0),l.value.length>0?((0,o.uX)(),(0,o.CE)("div",ve,[(0,o.bF)(O,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),type:"text",class:"!px-2 !py-1 my-2",placeholder:"Filter records.."},null,8,["modelValue"]),(0,o.bF)((0,c.R1)(de.A),{headers:f.value,items:l.value,"search-field":d.value,"rows-per-page":10,"header-text-direction":"center","body-text-direction":"center","search-value":u.value,"sort-by":m.value,"sort-type":p,"no-hover":!0,"theme-color":"#312e3d","table-class-name":"tableCSS mt-4 mb-8 rounded-lg border dark:border-gray-600 shadow-md"},{loading:(0,o.k6)((()=>[(0,o.bF)(V,{class:"font-semibold my-4"},{default:(0,o.k6)((()=>[(0,o.eW)("Data loading, please wait...")])),_:1})])),"item-Name":(0,o.k6)((({name:e})=>[(0,o.Lk)("p",ge,(0,i.v_)(e),1)])),"item-Actions":(0,o.k6)((({id:e})=>[(0,o.Lk)("div",he,[(0,o.Lk)("a",{href:(0,c.R1)(w)(h.value,s?.sfHost,e,s?.currenObject),target:"_blank"},[(0,o.bF)(E,null,{default:(0,o.k6)((()=>[(0,o.eW)("Open in SF")])),_:1})],8,ye),(0,o.bF)(z,{onClick:t=>S(e),icon:ce,isSquare:!1,color:"red",class:"!p-1.5 ml-2",title:"Remove from Favorite"},null,8,["onClick"])])])),_:1},8,["headers","items","search-field","search-value","sort-by"])])):(0,o.Q3)("",!0)]))}}});const xe=_e;var we=xe;const ke={key:1},Se={key:2},Re={key:0,class:"mt-4 mb-2"},Ee={class:"text-blue-600"},Le={key:1},Ce={class:"text-left ml-2"},Ie={class:"flex justify-center text-center items-center my-1.5"},Oe=["href"],Te={name:"indexComp"};var Ae=Object.assign(Te,{setup(e){const t=(0,c.KR)([]),a=(0,c.KR)(["Name","LastModifiedBy.Name","LastModifiedDate"]),r=(0,c.KR)(""),s=(0,c.KR)("LastModifiedDate"),n="desc",l=(0,c.KR)([{text:"Id",value:"Id"},{text:"Name",value:"Name",sortable:!0},{text:"Version",value:"vlocity_cmt__Version__c"},{text:"LastModified By",value:"LastModifiedBy.Name"},{text:"LastModified Date",value:"LastModifiedDateNew",sortable:!0},{text:"Actions",value:"Actions",width:300}]),d=(0,c.KR)(""),p=(0,c.KR)(!1),f=(0,c.KR)(""),v=(0,c.KR)(""),b=(0,c.KR)(""),x=(0,c.KR)("OmniScripts Loaded"),k=(0,c.KR)("FlexCards Loaded"),S=(0,c.KR)("Integration Procedures Loaded"),R=(0,c.KR)("DataRaptors Loaded"),L=e=>new Promise(((t,a)=>{m.getSession(f.value).then((()=>{let r=m.rest(e);r.then((e=>{t(e)})).catch((e=>{console.error("Error fetching limits: ",e),a(e)}))})).catch((e=>{console.error("Error getting session: ",e),a(e)}))})),C=()=>{const e={text:"Version",value:"vlocity_cmt__Version__c"},t=l.value.some((t=>t.value===e.value));t||l.value.splice(2,0,e)},I=async e=>{p.value=!0,v.value="OmniScript";let a="OmniScript";e&&(v.value="IntegrationProcedure",a="Integration Procedure");let r="/services/data/v"+u+`/query/?q=SELECT+Id,Name,vlocity_cmt__Version__c,LastModifiedBy.Name,LastModifiedDate+FROM+vlocity_cmt__OmniScript__c+WHERE+vlocity_cmt__IsActive__c=TRUE+AND+vlocity_cmt__OmniProcessType__c='${a}'+ORDER+BY+LastModifiedDate+DESC`;try{const a=await L(r);a?.records.forEach((e=>{e.LastModifiedDateNew=g(e.LastModifiedDate),e.iconColor=P(e.Id)})),t.value=a?.records,d.value=e?S.value:x.value,C()}catch(o){console.error("Error fetching OmniScript list: ",o)}p.value=!1,document.title=e?S.value:x.value},T=async()=>{p.value=!0,v.value="FlexCard";let e="/services/data/v"+u+"/query/?q=SELECT+Id,Name,vlocity_cmt__Version__c,LastModifiedBy.Name,LastModifiedDate+FROM+vlocity_cmt__VlocityCard__c+WHERE+vlocity_cmt__Active__c=TRUE+ORDER+BY+LastModifiedDate+DESC";try{const a=await L(e);a?.records.forEach((e=>{e.LastModifiedDateNew=g(e.LastModifiedDate),e.iconColor=P(e.Id)})),t.value=a?.records,d.value=k.value,C()}catch(a){console.error("Error fetching getFlexCardList: ",a)}p.value=!1,document.title=k.value},A=async()=>{p.value=!0,v.value="DataRaptor";let e="/services/data/v"+u+"/query/?q=SELECT+Id,Name,vlocity_cmt__Type__c,LastModifiedBy.Name,LastModifiedDate+FROM+vlocity_cmt__DRBundle__c+ORDER+BY+LastModifiedDate";try{const a=await L(e);a?.records.forEach((e=>{e.LastModifiedDateNew=g(e.LastModifiedDate),e.iconColor=P(e.Id)})),t.value=a?.records,d.value=R.value,l.value=l.value.filter((e=>"vlocity_cmt__Version__c"!==e.value))}catch(a){console.error("Error fetching getDataRaptorList: ",a)}p.value=!1,document.title=R.value},F=(0,c.KR)(null),M=(e,t)=>{let a={type:v.value,id:e,name:t},r=h(a,f.value);r&&(console.log("inside result"),F.value.getLatestFavItemList(),D(e,"blue"))},D=(e,a)=>{const r=t.value.findIndex((t=>t.Id===e));-1!==r&&(t.value[r].iconColor=a,console.log("color changed --\x3e "+t.value[r].iconColor))},H=(0,c.KR)([]),P=e=>{const t=H.value.some((t=>t.items.some((t=>t.id===e))));return console.log("itemExists --\x3e "+t),t?"blue":"gray"},j=e=>{console.log("event fired --\x3e "+JSON.stringify(e)),"deleteItem"==e?.action&&D(e?.recId,"gray")};return(0,o.sV)((async()=>{let e=new URLSearchParams(location.search.slice(1)),t=e.get("host");f.value=t,b.value=_(`https://${f.value}`),H.value=await y(f.value)})),(e,u)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[f.value?((0,o.uX)(),(0,o.Wv)(V,{key:0,class:"my-2"},{default:(0,o.k6)((()=>[(0,o.eW)("Current Org : "+(0,i.v_)(f.value),1)])),_:1})):(0,o.Q3)("",!0),(0,o.Lk)("button",{onClick:u[0]||(u[0]=e=>I(!1)),class:"bg-blue-700 hover:bg-blue-800 text-white py-2 px-4 rounded-md mr-2 my-2"}," Load OmniScript "),(0,o.Lk)("button",{onClick:T,class:"bg-blue-700 hover:bg-blue-800 text-white py-2 px-4 rounded-md mr-2 my-2"}," Load FlexCard "),(0,o.Lk)("button",{onClick:u[1]||(u[1]=e=>I(!0)),class:"bg-blue-700 hover:bg-blue-800 text-white py-2 px-4 rounded-md mr-2 my-2"}," Load Integration Procedure "),(0,o.Lk)("button",{onClick:A,class:"bg-blue-700 hover:bg-blue-800 text-white py-2 px-4 rounded-md mr-2 my-2"}," Load DataRaptor "),p.value?((0,o.uX)(),(0,o.CE)("div",ke,[(0,o.bF)(E,null,{default:(0,o.k6)((()=>[(0,o.bF)(N,{cssStyle:"h-4 w-4 mr-2"},{default:(0,o.k6)((()=>[(0,o.eW)("Data is loading...")])),_:1})])),_:1})])):((0,o.uX)(),(0,o.CE)("div",Se,[d.value?((0,o.uX)(),(0,o.CE)("div",Re,[(0,o.bF)(X,null,{default:(0,o.k6)((()=>[(0,o.eW)("Records loaded for "),(0,o.Lk)("span",Ee,(0,i.v_)(v.value),1)])),_:1}),(0,o.bF)(V,null,{default:(0,o.k6)((()=>[(0,o.eW)("All records are active records")])),_:1})])):(0,o.Q3)("",!0),t.value.length>0?((0,o.uX)(),(0,o.CE)("div",Le,[(0,o.bF)(O,{modelValue:r.value,"onUpdate:modelValue":u[2]||(u[2]=e=>r.value=e),type:"text",class:"!px-2 !py-1 my-2",placeholder:"Filter records.."},null,8,["modelValue"]),(0,o.bF)((0,c.R1)(de.A),{headers:l.value,items:t.value,"search-field":a.value,"rows-per-page":10,"header-text-direction":"center","body-text-direction":"center","search-value":r.value,"sort-by":s.value,"sort-type":n,"no-hover":!0,"theme-color":"#312e3d","table-class-name":"tableCSS mt-4 mb-8 rounded-lg border dark:border-gray-600 shadow-md"},{loading:(0,o.k6)((()=>[(0,o.bF)(V,{class:"font-semibold my-4"},{default:(0,o.k6)((()=>[(0,o.eW)("Data loading, please wait...")])),_:1})])),"item-Name":(0,o.k6)((({Name:e})=>[(0,o.Lk)("p",Ce,(0,i.v_)(e),1)])),"item-Actions":(0,o.k6)((({Id:e,Name:t,iconColor:a})=>[(0,o.Lk)("div",Ie,[(0,o.Lk)("a",{href:(0,c.R1)(w)(b.value,f.value,e,v.value),target:"_blank"},[(0,o.bF)(E,null,{default:(0,o.k6)((()=>[(0,o.eW)("Open in SF")])),_:1})],8,Oe),(0,o.bF)(z,{onClick:a=>M(e,t),icon:ae,isSquare:!1,color:a,class:"!p-1.5 ml-2",title:"Add to Favorite"},null,8,["onClick","color"])])])),_:1},8,["headers","items","search-field","search-value","sort-by"])])):(0,o.Q3)("",!0)])),f.value?((0,o.uX)(),(0,o.Wv)(we,{key:3,sfHost:f.value,currenObject:v.value,ref_key:"childComponentRef",ref:F,onFireEvent:j},null,8,["sfHost","currenObject"])):(0,o.Q3)("",!0)],64))}});const Fe=Ae;var Me=Fe;const De={for:"theme",class:"theme md:top-6 md:right-6 z-40 rounded-2xl dark:shadow-xl absolute top-1 right-1"},Ne={class:"theme__toggle-wrap"},He=(0,o.Fv)('<span class="theme__icon" data-v-76a18a32><span class="theme__icon-part" data-v-76a18a32></span><span class="theme__icon-part" data-v-76a18a32></span><span class="theme__icon-part" data-v-76a18a32></span><span class="theme__icon-part" data-v-76a18a32></span><span class="theme__icon-part" data-v-76a18a32></span><span class="theme__icon-part" data-v-76a18a32></span><span class="theme__icon-part" data-v-76a18a32></span><span class="theme__icon-part" data-v-76a18a32></span><span class="theme__icon-part" data-v-76a18a32></span></span>',1);var Pe={__name:"ToggleLightDarkMode",setup(e){const t=(0,c.KR)(!1);(0,o.sV)((()=>{const e=localStorage.getItem("color-theme");("dark"===e||!e&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(t.value=!0,document.documentElement.classList.add("dark"))}));const a=()=>{t.value=!t.value,t.value?(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light"))};return(e,s)=>((0,o.uX)(),(0,o.CE)("label",De,[(0,o.Lk)("span",Ne,[(0,o.bo)((0,o.Lk)("input",{id:"theme",class:"theme__toggle",type:"checkbox",role:"switch",name:"theme",value:"dark",onClick:a,"onUpdate:modelValue":s[0]||(s[0]=e=>t.value=e)},null,512),[[r.lH,t.value]]),He])]))}};const je=(0,Z.A)(Pe,[["__scopeId","data-v-76a18a32"]]);var Ve=je,$e={name:"App",components:{SecondaryComp:Me,ToggleLightDarkMode:Ve}};const qe=(0,Z.A)($e,[["render",l]]);var Ke=qe;(0,r.Ef)(Ke).mount("#secondaryApp")}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,r,o,s){if(!r){var n=1/0;for(d=0;d<e.length;d++){r=e[d][0],o=e[d][1],s=e[d][2];for(var l=!0,i=0;i<r.length;i++)(!1&s||n>=s)&&Object.keys(a.O).every((function(e){return a.O[e](r[i])}))?r.splice(i--,1):(l=!1,s<n&&(n=s));if(l){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[r,o,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0,996:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,s,n=r[0],l=r[1],i=r[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(i)var d=i(a)}for(t&&t(r);c<n.length;c++)s=n[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(d)},r=self["webpackChunkmy_chrome_extension"]=self["webpackChunkmy_chrome_extension"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504,996],(function(){return a(6698)}));r=a.O(r)})();
//# sourceMappingURL=app.d658bd8d.js.map